<section class="hero">
  <div class="hero-overlay"></div>
  <div
    class="hero-poster"
    *ngIf="featured.length && featured[0].posterUrl"
    [style.backgroundImage]="'linear-gradient(90deg, rgba(11,27,51,0.85), rgba(11,27,51,0.7)), url(' + featured[0].posterUrl + ')'">
  </div>
  <div class="hero-grid">
    <div class="hero-copy">
      <p class="eyebrow">Velkommen i biografen</p>
      <h1>Vælg sal, film og sæder til næste forestilling.</h1>
      <p class="lead">Se programmet, vælg visning og book dine pladser i vores sale.</p>
      <div class="cta-row">
        <a routerLink="/halls" class="btn primary">Se sale & program</a>
        <a routerLink="/login" class="btn ghost">Login</a>
      </div>
      <div class="tags">
        <span class="tag">Sale med coolio film</span>
        <span class="tag">Sædevalg</span>
        <span class="tag">Køb billetter</span>
      </div>
    </div>

    <div class="hero-panel" *ngIf="featured.length">
      <div
        class="panel-backdrop"
        *ngIf="featured[0].posterUrl"
        [style.backgroundImage]="'url(' + featured[0].posterUrl + ')'">
      </div>
      <p class="label">Udvalgt film</p>
      <h3>{{ featured[0].title }}</h3>
      <p class="meta">{{ featured[0].durationMinutes }} min • {{ featured[0].genres.join(', ') }}</p>
      <p class="summary">{{ featured[0].description }}</p>
      <div class="times" *ngIf="featured[0].showtimes?.length">
        <span class="pill" *ngFor="let time of featured[0].showtimes">{{ time }}</span>
      </div>
    </div>
  </div>
</section>

<section class="picker">
  <div class="picker-head">
    <h2>Find en sal for en film</h2>
    <div class="picker-control">
      <label for="movieSelect">Vælg film</label>
      <select id="movieSelect" [(ngModel)]="selectedMovieId" (change)="updateShowings()">
        <option *ngFor="let movie of movies" [ngValue]="movie.id">{{ movie.title }}</option>
      </select>
    </div>
  </div>
  <div class="showing-grid" *ngIf="showings.length; else noShows">
    <div class="showing-card" *ngFor="let s of showings">
      <p class="eyebrow">Sal</p>
      <h3>{{ s.hallName }}</h3>
      <div class="times">
        <a
          *ngFor="let t of s.times"
          class="pill link-pill"
          [routerLink]="['/movie', selectedMovieId]"
          [queryParams]="{ time: t, hall: s.hallId }">
          {{ t }}
        </a>
      </div>
    </div>
  </div>
  <ng-template #noShows>
    <p>Ingen sal fundet for den valgte film.</p>
  </ng-template>
</section>

<section class="featured-list" *ngIf="featured.length">
  <div class="section-heading">
    <div>
      <p class="eyebrow strong">Udvalgte titler</p>
      <h2>På plakaten</h2>
    </div>
  </div>

  <div class="movie-grid">
    <article class="movie-card" *ngFor="let movie of featured">
      <a class="poster" *ngIf="movie.posterUrl" [style.backgroundImage]="'url(' + movie.posterUrl + ')'" [routerLink]="['/movie', movie.id]">
        <span class="age">{{ movie.ageRating }}</span>
      </a>
      <div class="card-body">
        <div class="title-row">
          <a [routerLink]="['/movie', movie.id]" class="title-link">{{ movie.title }}</a>
          <span class="age-chip">{{ movie.durationMinutes }} min</span>
        </div>
        <p class="meta">{{ movie.genres.join(', ') }}</p>
        <p class="summary">{{ movie.description }}</p>
        <div class="showtimes" *ngIf="movie.showtimes?.length">
          <span class="pill" *ngFor="let time of movie.showtimes">{{ time }}</span>
        </div>
      </div>
    </article>
  </div>
</section>

<section class="cta-banner">
  <div>
    <p class="eyebrow">Klar til næste film?</p>
    <h2>Hop ind på sal-oversigten, vælg film og tider.</h2>
  </div>
  <a routerLink="/halls" class="btn primary">Gå til sale</a>
</section>
